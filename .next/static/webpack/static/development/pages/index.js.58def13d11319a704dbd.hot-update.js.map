{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.58def13d11319a704dbd.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from 'react'\r\nimport TableBlock from '../components/TableBlock.js'\r\nimport { Component } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport {Alert, Card, CardColumns, OverlayTrigger, ButtonToolbar, Tooltip} from 'react-bootstrap'\r\nimport Link from 'next/link'\r\nimport Header from '../components/Header.js'\r\nimport Loading from './loading'\r\nimport checkAuthAndRefresh from '../dbActions/checkAuth'\r\n\r\nclass Index extends Component {\r\n    \r\n    componentWillMount() {\r\n        checkAuthAndRefresh(this.props.dispatch)\r\n    }  \r\n    \r\n    render() {\r\n        console.log(this.props);\r\n        if (!this.props.authChecked || !this.props.isLoggedIn) {\r\n            return (<Loading />)\r\n        }\r\n\r\n        let atNum = this.props.assignedTasks.length;\r\n        let trNum = this.props.taskReports.length;\r\n        let alert = ''; \r\n        if (atNum > 0 || trNum > 0){\r\n            alert = <Alert variant='warning'><i class=\"fas fa-bell\"></i>\r\n                היי {this.props.userData.firstName}, יש לך {atNum > 0 ? <Link href=\"/assigned-tasks\"><a><strong>{atNum}</strong> איסופים קרובים</a></Link> : ''}{(atNum > 0 && trNum > 0 ? 'ועוד ' : '')}{trNum > 0 ? <Link href='/task-reports'><a><strong>{trNum}</strong> איסופים הממתינים למשוב</a></Link> : ''}.\r\n                </Alert>\r\n        }\r\n\r\n        if (!this.props.userData.admin) {\r\n            return (\r\n                <div>\r\n                <Header page='index' />\r\n                <div className=\"wrapper d-flex justify-content-center\">\r\n                    <main className=\"m-2\" style={{ paddingBottom: '3rem' }}>\r\n                        {alert}\r\n                        <div className=\"mb-4 mt-4\">\r\n                            <h2><img src='/static/assign.png' width=\"60\"/>שיבוץ לאיסופים</h2>\r\n                        </div>\r\n                        <TableBlock isSelectable={true} data={this.props.unassignedTasks} page='index' type='tasks' />\r\n                    </main></div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return <div>\r\n            <Header page='index' />\r\n            <div className=\"wrapper d-flex justify-content-center\">\r\n                <main className=\"m-2\" style={{ paddingBottom: '3rem' }}>\r\n                    {alert}\r\n                    <div className=\"mb-4 mt-4\">\r\n                        <h2><img src='/static/dashboard.png' width=\"60\"/>לוח בקרה</h2>\r\n                        <CardColumns className='mt-4'>\r\n                        <Card bg=\"primary\" text=\"white\" style={{ width: '18rem' }}>\r\n                            <Card.Header>השבוע</Card.Header>\r\n                            <Card.Body>\r\n                            <Card.Text>\r\n                                <div style={{textAlign: 'center', fontSize: '2rem'}}>5</div>\r\n                                <div>\r\n                                    <ButtonToolbar>\r\n                                    <OverlayTrigger\r\n                                    key='help'\r\n                                    \r\n                                    overlay={\r\n                                        <Tooltip id='tooltip'>\r\n                                        איסופים הקבועים להיום ומחר שעדיין לא שובצו לאף מתנדב\r\n                                        </Tooltip>\r\n                                    }>\r\n                                   <div style={{width: '100%', textAlign: 'center'}}> איסופים דחופים לשיבוץ <i className=\"fas fa-question-circle\"></i></div>\r\n                                    </OverlayTrigger>\r\n                                    </ButtonToolbar>\r\n                                </div>\r\n                                <div className='mt-4'><i class=\"fas fa-hourglass-start\"></i>21 איסופים עתידיים</div>\r\n                                <div><i class=\"far fa-calendar-times\"></i>11 משובים לא מולאו</div>\r\n                                <div><i class=\"far fa-calendar-alt\"></i>51 איסופים סה\"כ</div>\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                            <Card>\r\n                                <Card.Header>סטטוס מתנדבים</Card.Header>\r\n                                <Card.Body>\r\n                                <Card.Text>\r\n                                    <div style={{textAlign: 'center', fontSize: '2rem'}}>143</div>\r\n                                    <div  style={{textAlign: 'center'}}>מתנדבים פעילים השבוע</div>\r\n                                    <div className='mt-4'><i class=\"far fa-user\"></i>324 מתנדבים באזור {this.props.userData.region}</div>\r\n                                    <div><i class=\"far fa-envelope\"></i>2 אימותי דוא\"ל ממתינים</div>\r\n                                </Card.Text>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </CardColumns>\r\n                    </div>\r\n                </main></div>\r\n            </div>;\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(state => state)(Index);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;;;;AArFA;AACA;AAuFA;AAAA;AAAA;;;;A","sourceRoot":""}