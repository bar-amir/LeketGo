{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.abaf34ebad61af886205.hot-update.js","sources":["webpack:///./components/Table.js"],"sourcesContent":["import React from 'react'\r\nimport Entry from '../components/Entry'\r\nimport { connect } from \"react-redux\"\r\nimport {InputGroup, Form, Col, Row, DropdownButton, Dropdown, FormControl} from 'react-bootstrap'\r\n\r\nclass Table extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttableColumns: this.getTableColumns(),\r\n\t\t\tentrySelectedCounter: 0,\r\n\t\t\tselectedEntries: {},\r\n\t\t\tcolumnNames: {\r\n\t\t\t\t'actions': 'פעולות',\r\n\t\t\t\t'date': 'תאריך',\r\n\t\t\t\t'city': 'עיר',\r\n\t\t\t\t'name': 'שם',\r\n\t\t\t\t'catering': 'קייטרינג',\r\n\t\t\t\t'uid': 'uid',\r\n\t\t\t\t'firstName': 'שם פרטי',\r\n\t\t\t\t'lastName': 'שם משפחה',\r\n\t\t\t\t'region': 'אזור',\r\n\t\t\t\t'email': 'דוא\"ל'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.selectCallback = this.selectCallback.bind(this);\r\n\t\tthis.cancelSelection = this.cancelSelection.bind(this);\r\n\t\tthis.assignTasks = this.assignTasks.bind(this);\r\n\t}\r\n\r\n\tgetTableColumns() {\r\n\t\tswitch (this.props.page) {\r\n\t\t\tcase 'index':\r\n\t\t\t\treturn ['date', 'city', 'name', 'catering'];\r\n\t\t\tcase 'assignedTasks':\r\n\t\t\t\treturn ['date', 'city', 'name', 'catering', 'actions'];\r\n\t\t\tcase 'taskReports':\r\n\t\t\t\treturn ['date', 'city', 'name', 'catering', 'actions'];\r\n\t\t\tcase 'users':\r\n\t\t\t\treturn ['uid', 'firstName', 'lastName', 'email', 'region', 'actions'];\r\n\t\t\tcase 'tasks':\r\n\t\t\t\t\treturn ['actions', 'date', 'city', 'name', 'catering'];\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tselectCallback(entry, isSelected) {\r\n\t\tlet newSelectedEntries = {...this.state.selectedEntries};\r\n\t\tif(isSelected){\r\n\t\t\tnewSelectedEntries[entry.id] = {...entry};\r\n\t\t\tthis.setState({\r\n\t\t\t\tentrySelectedCounter: this.state.entrySelectedCounter + 1,\r\n\t\t\t\tselectedEntries: newSelectedEntries\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdelete newSelectedEntries[entry.id];\r\n\t\t\tthis.setState({\r\n\t\t\t\tentrySelectedCounter: this.state.entrySelectedCounter - 1,\r\n\t\t\t\tselectedEntries: newSelectedEntries\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcancelSelection() {\r\n\t\tthis.setState({\r\n\t\t\tentrySelectedCounter: 0,\r\n\t\t\tselectedEntries: {}\r\n\t\t});\r\n\t\t\r\n\t}\r\n\r\n\tassignTasks() {\r\n\t\t//check if someone assigned it in the meantime\r\n\t\t//if a task can no longer be assigned, remove it from selectedEntries\r\n\t\t//if still open for assignment, assign\r\n\r\n\t\tthis.props.dispatch({type: 'OPEN_MODAL', msg: 'ASSIGN_TASKS_SUCCESS', entries: this.state.selectedEntries});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet actionsBar = '';\r\n\t\tif (this.props.isSelectable && this.state.entrySelectedCounter > 0) {\r\n\t\t\tactionsBar = <div className=\"p-2 position-fixed fixed-bottom bg-light\">\r\n\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.assignTasks}>שיבוץ {this.state.entrySelectedCounter} איסופים</button>\r\n\t\t\t\t\t<button type=\"button\" onClick={this.cancelSelection} className=\"btn btn-secondary\">ביטול</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t}\r\n\r\n\t\tif (this.props.isSearchable) {\r\n\t\t\tactionsBar = \r\n\t\t\t\r\n\t\t\t\t<div className=\"p-2 position-fixed fixed-bottom bg-light\">\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.assignTasks}>הוספת משתמש</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\" onClick={this.assignTasks}>הוספה מקובץ</button></div>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\tas={InputGroup.Prepend}\r\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\r\n\t\t\t\t\t\t\t\ttitle=\"Dropdown\"\r\n\t\t\t\t\t\t\t\tid=\"input-group-dropdown-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item href=\"#\">שם מלא</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item href=\"#\">כתובת</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t<Dropdown.Item href=\"#\">דואר אלקטרוני</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t<Dropdown.Divider />\r\n\t\t\t\t\t\t\t\t<Dropdown.Item href=\"#\">Separated link</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t\t\t<FormControl aria-describedby=\"basic-addon1\" />\r\n\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t\t</div>;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<div className=\"table-responsive\">\r\n\t\t\t\t<table className=\"table table-hover\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t{this.state.tableColumns.map((column) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<th scope=\"col\" key={column}>{this.state.columnNames[column]}</th>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{this.props.data.map((entry) => {\r\n\t\t\t\t\t\t\tlet isSelected = false;\r\n\t\t\t\t\t\t\tif (this.state.selectedEntries[entry.id])\r\n\t\t\t\t\t\t\t\tisSelected = true;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Entry page={this.props.page} isSelected={isSelected} isSelectable={this.props.isSelectable} type={this.props.type} key={entry.id} selectCallback={this.selectCallback} entry={entry} tableColumns={this.state.tableColumns}/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t{actionsBar}\r\n\t\t\t</div></div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(state => state)(Table);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAJA;AAkBA;AACA;AACA;AAvBA;AAwBA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAZA;AAcA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AACA;AACA;AAFA;AAKA;;;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAMA;;;;AApJA;AACA;AAsJA;AAAA;AAAA;;;;A","sourceRoot":""}