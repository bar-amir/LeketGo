{"version":3,"file":"static/webpack/static\\development\\pages\\login.js.259a9fd0dadaf6e34b99.hot-update.js","sources":["webpack:///./pages/login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from \"react-redux\"\nimport fire from '../config/firebaseConfig'\nimport Header from '../components/Header.js'\nimport Router from 'next/router'\nimport checkAuthAndRefresh from '../dbActions/checkAuth'\nimport Loading from './loading'\nimport Logo from '../components/Logo.js'\n\nclass Login extends Component {\n    state = {\n        email: '',\n        password: ''\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    componentWillMount() {\n        if (!this.props.authChecked) checkAuthAndRefresh(this.props.dispatch)\n    }\n\t\n    handleSubmit = (e) => {\n        const db = fire.firestore();\n        fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password\n        ).then(\n            (user) => {\n                db.collection(\"users\").doc(user.user.uid).get().then((doc) => {\n                    Router.push('/');\n                })\n            }).catch(\n                (err) => {\n                    this.props.dispatch({ type: 'LOGIN_ERR', msg: err.message });\n                });\n    }\n\n    render() {\n        console.log(this.props)\n        if (!this.props.authChecked) {\n            return (<Loading />)\n        }\n        return (\n            <div>\n                <Header isLogin={true} />\n                \n                <div className=\"wrapper d-flex flex-row justify-content-center\">\n                <Logo use='login' />\n                <main className=\"m-2\" style={{ paddingBottom: '3rem' }}>\n                    <div className=\"card\">\n                        <h5 className=\"card-header\">התחברות</h5>\n                        <div className=\"card-body\">\n                            <h5 className=\"card-title\">ברוכים הבאים ללקט־night!</h5>\n                            <form>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"email\">כתובת דואר אלקטרוני</label>\n                                    <input type=\"email\" className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\" onChange={this.handleChange} />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"password\">סיסמה</label>\n                                    <input type=\"password\" className=\"form-control\" id=\"password\" onChange={this.handleChange} />\n                                </div>\n                                <div className=\"custom-control custom-checkbox\">\n                                    <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck3\" />\n                                    <label className=\"custom-control-label\" htmlFor=\"customCheck3\">זכרוני</label>\n                                </div>\n                                <a href=\"#\">שכחתי סיסמה</a>\n                            </form>\n                            <a role=\"button\" onClick={this.handleSubmit} className=\"mt-2 btn btn-primary\">התחברות</a>\n                        </div>\n                    </div>\n                    <div style={{ color: 'red' }}>\n                        {this.props.loginErr ? <h3>{this.props.loginErr}</h3> : null}\n                    </div>\n                </main></div>\n            </div>\n        )\n    }\n}\n\nexport default connect(state => state)(Login);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAGA;AACA;AAKA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAjBA;AACA;AACA;;;AAgBA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAtEA;AACA;AAwEA;AAAA;AAAA;;;;A","sourceRoot":""}