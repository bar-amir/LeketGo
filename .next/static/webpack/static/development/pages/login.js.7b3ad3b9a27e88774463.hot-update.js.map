{"version":3,"file":"static/webpack/static\\development\\pages\\login.js.7b3ad3b9a27e88774463.hot-update.js","sources":["webpack:///./pages/login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from \"react-redux\"\nimport fire from '../config/firebaseConfig'\nimport Header from '../components/Header.js'\nimport Router from 'next/router'\nimport checkAuthAndRefresh from '../dbActions/checkAuth'\nimport Loading from './loading'\nimport Logo from '../components/Logo.js'\nimport {Form, Button, Col, Navbar, Card} from 'react-bootstrap'\n\nclass Login extends Component {\n    state = {\n        email: '',\n        password: ''\n    }\n\n    handleChange = (e) => {\n        console.log(this.state.email);\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    componentWillMount() {\n        if (!this.props.authChecked) checkAuthAndRefresh(this.props.dispatch)\n    }\n\t\n    handleSubmit = (e) => {\n        const db = fire.firestore();\n        fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password\n        ).then(\n            (user) => {\n                db.collection(\"users\").doc(user.user.uid).get().then((doc) => {\n                    Router.push('/');\n                })\n            }).catch(\n                (err) => {\n                    this.props.dispatch({ type: 'LOGIN_ERR', msg: err.message });\n                });\n    }\n\n    render() {\n        console.log(this.props)\n        if (!this.props.authChecked) {\n            return (<Loading />)\n        }\n        return (\n            <div>\n                <Header isLogin={true} />\n                <div className=\"wrapper d-flex flex-column align-items-center justify-content-center\">\n                    <main className=\"m-2\" style={{ paddingBottom: '3rem' }}>\n                            <Logo use='login' />\n                            <Card style={{ width: '18rem' }}>\n                                <Card.Body>\n                                    <Card.Title>ברוכים הבאים!</Card.Title>\n                                    <Card.Text>\n                                    <Form\n                                    onSubmit={e => this.handleSubmit(e)}>\n                                        <Form.Group controlId=\"formBasicEmail\">\n                                            <Form.Label>כתובת דואר אלקטרוני</Form.Label>\n                                            <Form.Control type=\"email\" onChange={this.handleChange} />\n                                        </Form.Group>\n                                        <Form.Group controlId=\"formBasicPassword\">\n                                            <Form.Label>סיסמה</Form.Label>\n                                            <Form.Control type=\"password\" onChange={this.handleChange} />\n                                        </Form.Group>\n                                        <Button onClick={this.handleSubmit} variant=\"primary\" type=\"submit\">\n                                            התחברות\n                                        </Button>\n                                        </Form>\n                                    </Card.Text>\n                                </Card.Body>\n                                </Card>\n                        <div style={{ color: 'red' }}>\n                            {this.props.loginErr ? <h3>{this.props.loginErr}</h3> : null}\n                        </div>\n                    </main>\n                </div></div>);\n        }\n}\n\nexport default connect(state => state)(Login);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAAA;AAGA;AACA;AAKA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAjBA;AACA;AACA;;;AAgBA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AApEA;AACA;AAsEA;AAAA;AAAA;;;;A","sourceRoot":""}