{"version":3,"file":"static/webpack/static\\development\\pages\\login.js.7fb00a4a2de9c6b47143.hot-update.js","sources":["webpack:///./pages/login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from \"react-redux\"\nimport fire from '../config/firebaseConfig'\nimport Header from '../components/Header.js'\nimport Router from 'next/router'\nimport checkAuthAndRefresh from '../dbActions/checkAuth'\nimport Loading from './loading'\nimport Logo from '../components/Logo.js'\nimport {Alert, Form, Button, Col, Navbar, Card} from 'react-bootstrap'\nimport Link from 'next/link'\n\nclass Login extends Component {\n    state = {\n        email: '',\n        password: ''\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n        console.log(this.state.email);\n        console.log(this.state.password);\n    }\n\n    componentWillMount() {\n        if (!this.props.authChecked) checkAuthAndRefresh(this.props.dispatch)\n    }\n\t\n    handleSubmit = (e) => {\n        event.preventDefault();\n        const db = fire.firestore();\n        fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password\n        ).then(\n            (user) => {\n                db.collection(\"users\").doc(user.user.uid).get().then((doc) => {\n                    Router.push('/');\n                })\n            }).catch(\n                (err) => {\n                    event.stopPropagation();\n                    this.props.dispatch({ type: 'LOGIN_ERR', msg: err.message });\n                });\n    }\n\n    render() {\n        if (!this.props.authChecked) {\n            return (<Loading />)\n        }\n        return (\n            <div>\n                <Header isLogin={true} />\n                <div style={{height: '100vh', width: '100%', backgroundImage: 'linear-gradient(#99E1ED, white)'}} className=\"d-flex flex-column align-items-center justify-content-center\">\n                <Logo use='login' />\n                    <main style={{maxWidth: '400px'}} className=\"m-2\">\n                            <Card className='m-2'>\n                                <Card.Body>\n                                    <Card.Text>\n                                    \n                                    {this.props.loginErr ?\n                                        <Alert className='mb-4' style={{ textAlign: 'left', direction: 'ltr' }} variant='danger'><i class=\"fas fa-bell\"></i> {this.props.loginErr}</Alert> : ''}\n                                    <Form onSubmit={e => this.handleSubmit(e)}>\n                                        <Form.Group controlId=\"formBasicEmail\">\n                                            <Form.Label>כתובת דואר אלקטרוני</Form.Label>\n                                            <Form.Control type=\"email\" id=\"email\" onChange={this.handleChange} />\n                                        </Form.Group>\n                                        <Form.Group controlId=\"formBasicPassword\">\n                                            <Form.Label>סיסמה</Form.Label>\n                                            <Form.Control type=\"password\" id=\"password\" onChange={this.handleChange} />\n                                        </Form.Group>\n                                        <p><Link href=\"#\">שכחתי סיסמה</Link></p>\n                                        <Button type=\"submit\" onClick={this.handleSubmit} variant=\"primary\">\n                                            התחברות\n                                        </Button>\n                                        \n                                        </Form>\n                                    </Card.Text>\n                                </Card.Body>\n                                </Card>\n                    </main>\n                </div></div>);\n        }\n}\n\nexport default connect(state => state)(Login);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAnBA;AACA;AACA;;;AAkBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;;;;AAtEA;AACA;AAwEA;AAAA;AAAA;;;;A","sourceRoot":""}