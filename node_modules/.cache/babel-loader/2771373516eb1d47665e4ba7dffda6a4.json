{"ast":null,"code":"import fire from '../config/firebaseConfig';\nimport { getEndDate, getStartDate } from './dates';\nexport default function getUnassigned(dispatch, region) {\n  var db = fire.firestore();\n  console.log(getStartDate());\n  console.log(getEndDate());\n  db.collection(\"tasks\").where(\"region\", \"==\", region).where(\"volunteerUid\", \"==\", null).where(\"timestamp\", \">\", getStartDate()).where(\"timestamp\", \"<\", getEndDate()).get().then(function (querySnapshot) {\n    var tasks = [];\n    querySnapshot.forEach(function (doc) {\n      var task = doc.data();\n      task.id = doc.id;\n      tasks.push(task);\n    });\n    console.log(tasks);\n    dispatch({\n      type: 'UNASSIGNEDTASKS',\n      tasks: tasks\n    });\n  });\n}","map":{"version":3,"sources":["C:\\Users\\Oz\\Desktop\\leket\\leket\\dbActions\\getUnassignedTasks.js"],"names":["fire","getEndDate","getStartDate","getUnassigned","dispatch","region","db","firestore","console","log","collection","where","get","then","querySnapshot","tasks","forEach","doc","task","data","id","push","type"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,0BAAjB;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,SAAzC;AAEA,eAAe,SAASC,aAAT,CAAuBC,QAAvB,EAAiCC,MAAjC,EAAwC;AACnD,MAAMC,EAAE,GAAGN,IAAI,CAACO,SAAL,EAAX;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYP,YAAY,EAAxB;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYR,UAAU,EAAtB;AAEAK,EAAAA,EAAE,CAACI,UAAH,CAAc,OAAd,EACKC,KADL,CACW,QADX,EACqB,IADrB,EAC2BN,MAD3B,EAEKM,KAFL,CAEW,cAFX,EAE2B,IAF3B,EAEiC,IAFjC,EAGKA,KAHL,CAGW,WAHX,EAGwB,GAHxB,EAG6BT,YAAY,EAHzC,EAIKS,KAJL,CAIW,WAJX,EAIwB,GAJxB,EAI6BV,UAAU,EAJvC,EAKKW,GALL,GAMKC,IANL,CAMU,UAACC,aAAD,EAAmB;AACrB,QAAIC,KAAK,GAAG,EAAZ;AACAD,IAAAA,aAAa,CAACE,OAAd,CAAsB,UAAUC,GAAV,EAAe;AACjC,UAAIC,IAAI,GAAGD,GAAG,CAACE,IAAJ,EAAX;AACAD,MAAAA,IAAI,CAACE,EAAL,GAAUH,GAAG,CAACG,EAAd;AACAL,MAAAA,KAAK,CAACM,IAAN,CAAWH,IAAX;AACH,KAJD;AAKAV,IAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACAX,IAAAA,QAAQ,CAAC;AAAEkB,MAAAA,IAAI,EAAE,iBAAR;AAA2BP,MAAAA,KAAK,EAAEA;AAAlC,KAAD,CAAR;AACH,GAfL;AAgBH","sourcesContent":["import fire from '../config/firebaseConfig'\r\nimport { getEndDate, getStartDate } from './dates'\r\n\r\nexport default function getUnassigned(dispatch, region){\r\n    const db = fire.firestore();\r\n\r\n    console.log(getStartDate())\r\n    console.log(getEndDate() )\r\n\r\n    db.collection(\"tasks\")\r\n        .where(\"region\", \"==\", region)\r\n        .where(\"volunteerUid\", \"==\", null)\r\n        .where(\"timestamp\", \">\", getStartDate() )\r\n        .where(\"timestamp\", \"<\", getEndDate() )\r\n        .get()\r\n        .then((querySnapshot) => {\r\n            var tasks = [];\r\n            querySnapshot.forEach(function (doc) {\r\n                var task = doc.data();\r\n                task.id = doc.id;\r\n                tasks.push(task);\r\n            });\r\n            console.log(tasks)\r\n            dispatch({ type: 'UNASSIGNEDTASKS', tasks: tasks });\r\n        });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}