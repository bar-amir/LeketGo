{"ast":null,"code":"import fire from '../config/firebaseConfig';\nimport { getStartDate } from './dates';\nexport default function getTaskReports(dispatch, uid) {\n  var db = fire.firestore();\n  db.collection(\"tasks\").where(\"volunteerUid\", \"==\", uid).where(\"reportFilled\", \"==\", false).get().then(function (querySnapshot) {\n    var tasks = [];\n    querySnapshot.forEach(function (doc) {\n      var task = doc.data();\n      task.id = doc.id;\n\n      if (task.collected) {\n        tasks.push(task);\n      } else {\n        if (task.timestamp < getStartDate()) {\n          tasks.push(task);\n        }\n      }\n    });\n    dispatch({\n      type: 'TASKREPORTS',\n      tasks: tasks\n    });\n  });\n}","map":{"version":3,"sources":["C:\\Users\\Oz\\Desktop\\leket\\leket\\dbActions\\getTaskReports.js"],"names":["fire","getStartDate","getTaskReports","dispatch","uid","db","firestore","collection","where","get","then","querySnapshot","tasks","forEach","doc","task","data","id","collected","push","timestamp","type"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,0BAAjB;AACA,SAASC,YAAT,QAA6B,SAA7B;AAEA,eAAe,SAASC,cAAT,CAAwBC,QAAxB,EAAkCC,GAAlC,EAAuC;AAClD,MAAMC,EAAE,GAAGL,IAAI,CAACM,SAAL,EAAX;AAEAD,EAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBC,KAAvB,CAA6B,cAA7B,EAA6C,IAA7C,EAAmDJ,GAAnD,EACKI,KADL,CACW,cADX,EAC2B,IAD3B,EACiC,KADjC,EACwCC,GADxC,GAEKC,IAFL,CAEU,UAACC,aAAD,EAAmB;AACrB,QAAIC,KAAK,GAAG,EAAZ;AACAD,IAAAA,aAAa,CAACE,OAAd,CAAsB,UAAUC,GAAV,EAAe;AACjC,UAAIC,IAAI,GAAGD,GAAG,CAACE,IAAJ,EAAX;AACAD,MAAAA,IAAI,CAACE,EAAL,GAAUH,GAAG,CAACG,EAAd;;AACA,UAAIF,IAAI,CAACG,SAAT,EAAoB;AAChBN,QAAAA,KAAK,CAACO,IAAN,CAAWJ,IAAX;AACH,OAFD,MAEO;AACH,YAAIA,IAAI,CAACK,SAAL,GAAiBnB,YAAY,EAAjC,EAAsC;AAClCW,UAAAA,KAAK,CAACO,IAAN,CAAWJ,IAAX;AACH;AACJ;AACJ,KAVD;AAWAZ,IAAAA,QAAQ,CAAC;AAAEkB,MAAAA,IAAI,EAAE,aAAR;AAAuBT,MAAAA,KAAK,EAAEA;AAA9B,KAAD,CAAR;AACH,GAhBL;AAiBH","sourcesContent":["import fire from '../config/firebaseConfig'\nimport { getStartDate } from './dates'\n\nexport default function getTaskReports(dispatch, uid) {\n    const db = fire.firestore();\n\n    db.collection(\"tasks\").where(\"volunteerUid\", \"==\", uid)\n        .where(\"reportFilled\", \"==\", false).get()\n        .then((querySnapshot) => {\n            var tasks = [];\n            querySnapshot.forEach(function (doc) {\n                var task = doc.data();\n                task.id = doc.id;\n                if (task.collected) {\n                    tasks.push(task);\n                } else {\n                    if (task.timestamp < getStartDate() ) {\r\n                        tasks.push(task);\r\n                    }\r\n                }\n            });\n            dispatch({ type: 'TASKREPORTS', tasks: tasks });\n        });\n}"]},"metadata":{},"sourceType":"module"}